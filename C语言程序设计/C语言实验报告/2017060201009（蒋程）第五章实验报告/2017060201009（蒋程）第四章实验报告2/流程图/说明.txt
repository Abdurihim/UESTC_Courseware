每个地图对应了两张：
一个显性的DisplayedMap和BackgroundMap
（用来存不可见的障碍物，代码基本一样，
为了节省时间就只做了显示的地图的流程图）。

吐槽：流程图真的太花费时间了：昨晚八点一直做到一点，今早八点做到下午一点。