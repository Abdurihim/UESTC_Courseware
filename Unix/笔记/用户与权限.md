### 用户与权限

---

#### 一、与UNIX建立连接

##### 登录：

- Unix是多用户操作系统，用户是使用之前必须登录。  

- Unix登录提示信息：login

- 登录名

- Unix系统要求用户使用前建立用户账号，同时建立用户标识（唯一）和口令

- 口令password
  - 口令由系统管理员提供，口令=数字+字母

  - 注：用户未设置口令，不显示password；

  - password具体内容不显示；

  - Password输入之后不能删除。

* 显示格式（Unix显示信息）
  * Login：xxx（[Return]）
  * Password:xxx（[Return]）

* 登陆之后会显示时间等信息，接着给出命令提示符：$,%

##### 修改口令passwd：

* 格式：$ passwd

  * Old password:
  * New password:

  * Re-enter new password:

  * (password修改成功提示)

* 修改口令要求 
  * 两次口令至少三个字符不同；
  * 至少六个字符（两字母，一数字）；
  * 用户标识与口令不能一致

##### 退出系统ctrl-d：

* 格式
  * $ ctrl-d

* 用户直接关闭电源并没有退出系统。

#### 二、简单的Unix命令

##### 命令行：

* def：一行命令称之为命令行，以[Return]结束。

* 基本命令行格式
  * $ 命令名   [-选项]  [命令参数] [Return]
  * 命令选项:  可以选择，也可以不选。如果选择，则必须是由减号开始的一个或多个字母组成。
  * 命令参数:  可以有，也可以没有；可以有一个，也可以有多个。参数主要用于指明命令的操作对象，通常
  * 方括号:  表明其中的内容可以缺省。

##### 常用命令：

| 名称         | 功能                                                         | 格式                                  | 备注                                                         |
| ------------ | ------------------------------------------------------------ | ------------------------------------- | ------------------------------------------------------------ |
| date         | 显示或设置系统的日期、时间                                   | date   [+format] 或date [currentdate] | 1）[+format]是日期输出时的方式选择   %m 以01-12表示月份   %d 以01-31表示日期   %y 以00-99表示年的后两位   %D 以mm/dd/yy表示日期   %H 以00-23表示小时 |
| cal          | 显示日历                                                     | cal   [选项] [[月]年]                 | 1）选项字段：   -m 显示时将周一作为每周的第一天   -3 显示上一个月、当前月、下一个月 |
| who          | 列出当前用户系统的登录信息                                   | who   [选项] [am I]                   | 1）选项字段   -H 显示用户信息及各列的标题   -q 只显示用户名和用户总数   -b 显示系统的启动日期及时间 |
| hostname     | 显示或配置所登陆主机的信息                                   | hostname   [选项]                     | 1）选项字段   -a 显示主机的名字（包括别名   -F   FILE 从指定文件设置主机名   -i 显示主机的IP地址信息 |
| learn        | 计算机辅助教学                                               |                                       | learn是一个UNIX实用程序，使用时需要安装多项与UNIX系统相关的学习内容。 |
| help         | 帮助命令，解释shell内部命令的用法                            | help   [命令]                         |                                                              |
| man          | 联机帮助命令                                                 | man   [命令]                          | man可向用户提供系统中各种命令、系统调用、库函数和重要系统文件的详细说明，包括名字、使用语法、功能描述、应用实例和相关参考文件等 |
| 删除字符     | 删除输入错误的字符                                           | Ctrl-h、backspace   Ctrl-u            | Ctrl-h、backspace删除单个字符   Ctrl-u删除整个命令行         |
| 中断程序运行 | 中断正在执行的程序                                           | Ctrl-c、[Del]                         | 删除之后显示命令提示符$                                      |
| alias        | 取别名，使用alias命令为经常使用的命令取一个更短或更易记忆的名字 | alias   新名字=命令                   | 查看当前定义的alias alias [enter]       取消定义的alias   Unalias[新命令] |

 

### 文件系统

---

#### 一、文件和目录的基本概念以及树形层次目录的组织

##### 目录及文件介绍：

* Unix工作文件存储在RAM（临时）中。

* unix允许用户将硬盘分为目录以及子目录。

* 文件分类：
  * 普通文件：包含字节序列，用户创建的大部分文件
  * 目录文件：不是标准的ASCII文本文件，包含关于其他文件的信息
  * 特殊文件：包含与外部设备相联系的信息

* 目录基本信息
  * Unix系统的一个基本特征，提供磁盘组织文件的结构。

  * 目录结构为层次结构，最高层次为根目录（root）。
  * 目录不包含目录下文件的内容，只提供索引路径。

* 重要目录

  * 普通用户可以访问这些目录，但是不能编辑，复制，删除。

  * 对于普通用户，可以访问其在主目录下创建的目录和文件。

| 目录表示方式 | 目录介绍                                                     |
| ------------ | ------------------------------------------------------------ |
| /            | 根目录                                                       |
| /usr         | 主目录，包含许多其他的面向用户的目录，是系统管理员为每个用户分配的目录 |
| /usr/docs    | 存放各种文档                                                 |
| /usr/man     | 存放帮助页                                                   |
| /usr/games   | 存放游戏程序                                                 |
| /usr/bin     | 存放面向用户的Unix程序                                       |
| /usr/spool   | 存放几个子目录，包括存放邮件文件的mail子目录，要打印文件spool子目录 |
| /usr/sbin    | 存放系统管理文件，只有特权用户才能访问其中的大部分文件       |
| /bin         | 存放许多基本的Unix文件                                       |
| /dev         | 存放设备文件，unix将所有设备看作文件，/dev/null表示空，发送给该目录表示删除 |
| /sbin        | 存放系统文件，由unix自动运行                                 |
| /etc         | 此目录以及其子目录存放的是unix的配置文件（大多是文本文件），特权用户可以通过修改该目录下的文件来修改系统配置 |

* 特殊目录：
  * 主目录：系统管理员在系统上创建所有用户的账号，并分配一个特定的目录，就是主目录。
  * 工作目录（当前目录）：unix工作时关联的目录。

* 路径以及路径名
  * 路径：从根目录开始直到文件所经过的目录合在一起就是路径；在文件系统中用于定位文件。
  * 绝对路径，相对路径

* 文件名以及目录名
  * 文件名以及目录名：名字最大长度取决于unix版本以及系统生产商。（至少允许14字节，大部分最长255字节）
  * 文件名=字母+数字+下划线；（根目录（/）除外）
  * Unix使用空格表示命令或者文件的开始和结束，因此命名文件时不使用空格。
  * Unix区分大小写。
  * Unix允许用一个以上的点来拓展文件名。

##### 与目录有关的命令：

| 命令名称     | 功能                                                     | 使用格式                         | 备注                                                         |
| ------------ | -------------------------------------------------------- | -------------------------------- | ------------------------------------------------------------ |
| pwd          | 显示用户工作目录的绝对路径名                             | $ pwd   [Return]                 | 显示绝对路径                                                 |
| cd           | 改变工作目录                                             | $ cd 改变之后的工作目录 [Return] | 默认参数是主目录，可以使用cd命令直接返回主目录               |
| mkdir        | 创建子目录                                               | mkdir   [选项] dir_name          | 1）选项字段   -p 可以创建整个目录结构（创建多层目录，Linux-parents）   -m 可用来创建一个带有特定权限的子目录 |
| rmdir        | 删除指定的空目录                                         | rmdir   [选项]dir_name           | 1）选项字段   -P（大写） 删除指定目录上的所有目录，这些目录都为空   -i 在删除过程中，以询问方式完成删除   2）只能删除空目录 |
| ls           | 列出指定目录中的内容                                     | ls [选项] [dir_name]             | 1）选项字段   -a 显示所有文件，包括以.开头的隐藏文件   -d 列出目录本身的状态，而不列出目录下包括的文件   -l 以长格式方式列出文件及目录信息   -i 列出文件对应的i-node号   2）当ls以长格式选项输出时，个字段含义参见教材70-71。 |
| cat          | 将若干文件按照列出的顺序进行连接后, 在标准输出设备上显示 | cat   [options] [FILE...]        | 1）显示多个文件时文件名需要用空格隔开   2）只显示小屏文件    |
| lp           | 将若干文件按照列出的顺序打印文件内容                     | lp [选项]  [FILE...]             | 1）文件名之间至少用一个空格隔开   2）只产生一个标题页，但是每次打印一个新文件时会换页   3）打印顺序与列表顺序一致   4）选项字段见下文 |
| lpr（linux） | 将若干文件按照列出的顺序打印文件内容                     | lpr [选项]  [FILE...]            | 1)      基本信息与lp一样   2)      多出的选项字段   -p 在指定的打印机上打印   -# 按指定份数打印文件   -T 在输出的标题页上打印指定的标题   -m 打印请求完成后，向用户邮箱发送邮件 |
| cancel       | 取消打印请求                                             | cancel   打印作业ID/打印机名     | 1）打印作业ID由lp命令给出   2）选项为ID时，取消该文件的打印   3）选项为打印机时，取消正在打印的文件   4） |
| Lpstat       | 获得有关打印请求和打印机状态的信息                       | $   lpstat [选项] [Return]       | 1）选项名-d：显示默认打印机名   2）没有打印请求或者正在打印的作业时，不显示任何内容。 |
| rm           | 删除指定的文件                                           | rm   [OPTION]... FILE...         | 1）选项字段   -d     删除可能仍有数据的目录 (只限超级用户)   -f     略过不存在的文件，不显示任何信息   -I       进行任何删除操作前必须先确认   -r, -R 同时删除该目录下的所有目录层   -v      详细显示进行的步骤   --help显示此帮助信息并离开   --version  显示版本信息并离开   2）rm命令不显示警告信息 |

##### ls选项字段：

| UNIX选项 |         Linu选项         |                         功能                         |
| :------: | :----------------------: | :--------------------------------------------------: |
|    -a    |          --all           |              列出所有文件，包括隐藏文件              |
|    -C    |   --format = vertical    |              用多格式列出文件，按列排序              |
|          |  --format = horizontal   |              用多格式列出文件，按行排序              |
|    -F    |        --classify        | 在每隔目录文件名后面加 / ， 在可执行文件文件后面加 * |
|    -l    | --format = single-column |         按长格式列出文件，显示文件的详细信息         |
|    -m    |    --format = commas     |               按页宽列文件，以逗号隔开               |
|    -p    |                          |                 在目录文件名后面加 /                 |
|    -r    |        --reverse         |                 以字符反序列列出文件                 |
|    -R    |       --recursive        |                 循环列出子目录的内容                 |
|    -s    |          --size          |             以块为单位列出每个文件的大小             |
|    -x    |  --format = horizontal   |              以多个是列出文件，按行排序              |
|          |    --format = across     |                                                      |
|          |          --help          |                     显示帮助信息                     |

##### 隐藏文件：

以（.）开头的文件，不显示出来。单点表示当前目录，双点表示父目录，mdkir自动将两个文件加入目录中

##### lp选项字段：

| 选项 |                 功能                 |
| :--: | :----------------------------------: |
|  -d  |         在指定的打印机上打印         |
|  -m  | 在打印请求完成后，向用户邮箱发送邮件 |
|  -n  |         按指定的份数打印文件         |
|  -s  |             取消反馈信息             |
|  -t  |    在输出的标题也上打印指定的标题    |
|  -w  |   打印请求完成后，向用户终端发消息   |

 

#### 二、文件系统高级操作

##### Unix文件系统高级命令：

| 名称  | 功能                                                 | 格式                                                         | 备注                                                         |
| ----- | ---------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| cp    | 复制文件命令, 原始文件存在                           | cp [OPTION]... SOURCE DEST       cp [OPTION]... SOURCE... DIRECTORY | -i选项：如目标文件存在，请求确认   -r选项：把目录复制到新的目录   --help：帮助 |
| mv    | 将文件从一个目录转移到另一个目录，改变文件名或目录名 | mv [OPTION]... SOURCE DEST   mv [OPTION]... SOURCE... DIRECTORY | -b选项，如果目标文件已存在，则制作它的备份   -i选项，如果目标文件已存在，则要求确认   -f 如果目标文件已经存在，则删除文件，不要求确认   -v 解释操作 |
| pg    | 分页查看文件                                         | pg [选项] 文件                                               | 1）选项   -n ：不需要按[Return]来结束单字母命令   -s:用反白显示信息和提示   -num：设置每屏的行数，默认值23   -pstr：改变提示符，为指定的串str   +line-num：从文件的第line-num行开始显示   +lpattern：从第一个包含pattern的行开始显示   2）pg显示之后会在每一页的末尾出现提示符：   3）提示符之后使用这些键   +n：前进n屏   -n：后退n屏   +nl：前进n行   -nl：后退n行   n：跳到第n屏 |
| wc    | 用于计算一个/多个文件中的行数/字数/字符数            | wc [选项] filename                                           | -c  计算字符的数目   -l  计算行的数目   -w 计算单词的数目    |
| find  | 在指定目录查找文件                                   | find [选项] 搜索路径 表达式                                  | -name filename： 根据给定的文件名filename查找文件   -size + n：查找文件大小为n的文件   -type file type：查找指定类型的文件   -atime + n;查找n天以前访问的文件   -mtime +n：查找n天以前修改的文件   -newer filename：查找比filename更近更新的文件   -print ：显示每个找到的文件的路径名   -exec command\; ：对找到的文件执行command   -ok command\; :在执行command之前请求确认 |
| more  | 按页查看文件内容                                     | more [选项] filename                                         | -s：将两行以上的空行显示为一个空行   +num: 从文件开头第n行开始显示文件内容 |
| head  | 用于查看一个文件、或多个文件的前面几行的内容         | head [选项] filename                                         | -n：输出前n行的内容，系统缺省为10行，用户可指定一个以上的文件名。 |
| tail  | 用于显示从指定行开始直到文件末尾的文件内容           | tail [选项] filename                                         | 1）本命令只能指定一个文件作为参数   2）选项   -number_of_lines     指定从倒数第几行开始。   +number_of_lines      指定从正数第几行开始。 |
| cut   | 从文件中取出指定的列显示                             | cut [选项] filename                                          | 1）选项   -f：在该选项后跟指定域的列表   -d：该选项后跟域分隔符(重新设定域分隔符)   -c：该选项后跟指定的字符的位置   2）文件中的域由分隔符隔开(默认为制表符tab) |
| paste | 用于逐行连接文件或者把多个文件的域连接到新文件中     | paste [选项] file1 file2…                                    | -d选项：指定具体的分隔符                                     |
| pr    | 在打印或者浏览文件之前，编排文件                     | pr [选项] 文件                                               | 选项：   +page：从指定页page开始显示，默认第一页   —columns：以指定列columns显示输出，默认一列   -a:以横跨页面的方式显示输出，每列一行   -d：双倍行距显示输出   -h string：在标题上以指定串string代替文件名   -l number：将页长设置为指定的行数number，默认66   -m：以多列形式显示所有指定的文件   -p：在每页末尾暂停并响铃   -character：用指定的单个字符character隔开列，默认使用【tab】   -t：取消5行标题和五行空页脚   -w number：行宽设置为指定的字符数number，默认72. |
